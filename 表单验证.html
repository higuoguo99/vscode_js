<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="./jquery-3.4.1.min.js"></script>
    <script>
      //1.非空校验 2.格式校验 3.存在性校验
      // 姓名验证
      function checkXM() {
        //获取内容
        var txtXM = $("#xm").val();
        //非空校验
        if (txtXM == "") {
          $("#xmErr").html("姓名不能为空");
          return false;
        }
        //格式校验
        var reg = /^[\u4e00-\u9fa5]{2,5}$/;
        if (!reg.test(txtXM)) {
          $("#xmErr").html("姓名格式不正确");
          return false;
        }
        $("#xmErr").html("");
        return true;
      }
      // 验证手机号
      function checkPhone() {
        var txtPhone = $("#phone").val(); //非空校验
        if (txtPhone == "") {
          $("#phoneErr").html("电话不能为空");
          return false;
        } //格式校验
        var reg = /^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$/;
        if (!reg.test(txtPhone)) {
          $("#phoneErr").html("电话格式不正确");
          return false;
        }
        $("#phoneErr").html("");
        return true;
      }
      // 验证邮箱
      function checkEmail() {
        var txtEmail = $("#email").val(); //非空校验
        if (txtEmail == "") {
          $("#emailErr").html("邮箱不能为空");
          return false;
        }
        //格式校验
        var reg = /^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;
        if (!reg.test(txtEmail)) {
          $("#emailErr").html("邮箱格式不正确");
          return false;
        }
        $("#emailErr").html("");
        return true;
      }
      // 验证地址
      function checkAddress() {
        var txtAddress = $("#address").val();
        if (txtAddress == "") {
          $("#addressErr").html("地址不能为空");
          return false;
        }
        var reg = /^[\u4e00-\u9fa5]{10,50}$/;
        if (!reg.test(txtAddress)) {
          $("#addressErr").html("地址必须是10-50个汉字");
          return false;
        }
        $("#addressErr").html("");
        return true;
      }
      // 提交验证
      function checkAll() {
        var xmIsSuc = checkXM();
        var phoneIsSuc = checkPhone();
        var emailIsSuc = checkEmail();
        var addressIsSuc = checkAddress();
        if (xmIsSuc && phoneIsSuc && emailIsSuc && addressIsSuc) {
          return true;
        }
        return false;
      }
      
      $(function () {
         //增加鼠标事件 
        //  获取姓名文本框焦点时
      $("#xm").focus(function () {
        $("#xmErr").html("");
      });
      // 失去姓名文本框焦点时
      $("#xm").blur(function () {
        checkXM();
      });
      });
     
    </script>
  </head>
  <body>
    <form action="" method="get" onsubmit="return checkAll()">
      <table border="1" align="center">
        <tr>
          <td>姓名</td>
          <td>
            <input type="text" name="xm" id="xm" />
            <div id="xmErr" class="err"></div>
          </td>
          <td>姓名不能为空，长度为2-5个汉字</td>
        </tr>
        <tr>
          <td>电话</td>
          <td>
            <input type="tel"" name="phone" id="phone" />
            <div id="phoneErr" class="err"></div>
          </td>
          <td>电话不能为空，必须符合手机的格式</td>
        </tr>
        <tr>
          <td>邮箱</td>
          <td>
            <input type="text" name="email" id="email" />
            <div id="emailErr" class="err"></div>
          </td>
          <td>邮箱不能为空，必须符合邮箱格式</td>
        </tr>
        <tr>
          <td>地址</td>
          <td>
            <input type="text" name="address" id="address" />
            <div id="addressErr" class="err"></div>
          </td>
          <td>地址不能为空，长度必须时10-50个汉字</td>
        </tr>
        <tr>
          <td></td>
          <td colspan="2"><input type="submit" value="提交" /></td>
        </tr>
      </table>
    </form>
  </body>
</html>
