<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="./jquery-3.4.1.min.js"></script>
    <script>
      $(function () {
        //   姓名文本框blur失去焦点事件
        $("#xm").blur(function () {
          checkXm();
        });
        // 姓名文本框获取焦点事件
        $("#xm").focus(function () {
          $(this).val(""); //值清除
          $("#xmErr").text(""); //设置空文本内容
        });
        //电话输入框失去焦点事件
        $("#phone").blur(function () {
          checkTel();
        });
        $("#phone").focus(function () {
          $(this).val(""); //值清除
          $("#phoneErr").text(""); //设置空文本内容
        });
      });
    //   && checkEmail() && checkAddress()
        function checkAll() {
          if (checkXm() && checkTel() ) {
            return true;
          }
          else{
            return  false;
          }
        }
      //   验证姓名
      function checkXm() {
        var zhi = $("#xm").val();
        // 非空验证
        if (zhi != "") {
          var reg = /^[\u4e00-\u9fa5]{2,5}$/; //正则规则
          if (!reg.test(zhi)) {
            //弹出错误提示
            $("#xmErr").text("姓名不符合要求！");
            return false;
          } else {
            return true;
          }
        } else {
          $("#xmErr").text("姓名不能为空！");
          return false;
        }
      }

      //   验证电话
      function checkTel() {
        var telzhi = $("#phone").val();
        //非空验证
        if (telzhi != "") {
          //非空
          //正则
          var reg = /^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$/;
          if (!reg.test(telzhi)) {
            //不符合
            $("#phoneErr").text("电话号码不符合要求");
            return false;
          } else {
            return true;
          }
        } else {
          $("#phoneErr").text("电话号码不能为空");
          return false;
        }
      }
    </script>
  </head>
  <body>
    <form action="" method="get" onsubmit="return checkAll()">
      <table border="1" align="center">
        <tr>
          <td>姓名</td>
          <td>
            <input type="text" name="xm" id="xm" />
            <div id="xmErr" class="err"></div>
          </td>
          <td>姓名不能为空，长度为2-5个汉字</td>
        </tr>
        <tr>
          <td>电话</td>
          <td>
            <input type="tel"" name="phone" id="phone" />
            <div id="phoneErr" class="err"></div>
          </td>
          <td>电话不能为空，必须符合手机的格式</td>
        </tr>
        <tr>
          <td>邮箱</td>
          <td>
            <input type="text" name="email" id="email" />
            <div id="emailErr" class="err"></div>
          </td>
          <td>邮箱不能为空，必须符合邮箱格式</td>
        </tr>
        <tr>
          <td>地址</td>
          <td>
            <input type="text" name="address" id="address" />
            <div id="addressErr" class="err"></div>
          </td>
          <td>地址不能为空，长度必须时10-50个汉字</td>
        </tr>
        <tr>
          <td></td>
          <td colspan="2"><input type="submit" value="提交" /></td>
        </tr>
      </table>
    </form>
  </body>
</html>
